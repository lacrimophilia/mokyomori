<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
  
<title>목요모리</title>
  <link href="https://fonts.googleapis.com/css2?family=Dongle&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">

</head>
<body>
  <h1><span class="korean-title">목요모리</span> <span class="chinese-title">木曜森</span>
  <span class="info-icon" onclick="toggleIntro()">i</span></h1>
  <div class="forest" id="forest"></div>
  <div class="footer">© 2025 mokyomori</div>
  <div id="intro-panel" class="intro-panel">
  <p> 이곳은 목요모리입니다.<br><br>

 몇 년에 걸쳐 이따금씩 찾아다니던 영화를 겨우 만났습니다.<span class="citation" data-tooltip="〈자유의 언덕〉(홍상수, 2014, 한국)">*</span><br>
 모리의 편지를 권은 떨어뜨립니다. 권이 떨어진 편지들을 다시 줍습니다.<br>
 순서대로 쓴 것도, 읽을 때는 순서가 뒤섞이고, 한 장은 놓쳤을 수도 있습니다.<br><br>
              
 森(もり, 모리)는 일본어로 숲입니다.<br>
 나무 세 그루를 적어내는 이 한자를 일본어 공부 중 만났습니다. 노트에 옮기며 기뻤습니다. <br><br>
              
 불화를 느낍니다. 못 본 체 할 수 있을 정도로 미세하거나, 도저히 부풀어 그만 뽕 하고 그만 둘 정도로.<br>
 내가 있는 [어디]와 내 입에서 나오는 무슨 [말]과.<br>
 나의 두려움 뒷면에는 궁금함이 있고 떨림 옆에는 기대가 묻어 있습니다.<br><br>

 2015년, 태어나 처음으로 같은 책을 두 번 읽었습니다. 모리 선생님은 화요일마다 이야기 해 주었습니다.<span class="citation" data-tooltip="Mitch Albom, 『Tuesdays with Morrie』, Anchor Books, 2006">*</span>
<br><br>
              
 2024년 5월 밤, 다음 날 일찍 일어나야 하는 날이면 꼭 잠에 못 듭니다. 누워서 얼추 배의 시간을 삽니다. 시간을 떠돌다 알지 못하는 곳에 도착했습니다.<br><br>
              
 <em>목(木)요일이 모여 만드는 모리(森)</em><br><br>
              
 미뤄둔 독을 열었더니 이건 발효될까 썩어 버리게 될까 - 터를 찾아다녔습니다. 버리거나 심을 곳.<br>
 이곳이 아닌 어딘가.를 중얼거렸습니다.<br><br>

 코딩을 모릅니다. 그리고 2025년을 사는 나는 코딩을 잘 하고 참을성 있는 친구를 압니다. 찾아가 물었습니다. 가능할까?<br>
 <a href=https://chatgpt.com/share/688b2086-9018-8013-a4a2-a6126593e201>그 친구와 나의 질척한 대화</a>로 목요모리는 건축되었습니다. <br>
 <em>어쩌면</em> 현실에 존재하는 유토피아, 헤테로토피아.<span class="citation" data-tooltip="미셸 푸코, 『헤테로토피아』, 문학과지성사, 2014">*</span><br>
 헤테로토피아라, 이곳은 이곳인가? 존재하는 장소topos인가?<br><br>

 이곳의 글쓰기는 bilingual 쓰기 시도입니다.<br>
 보이는 글과 뒤의 코딩 글쓰기(press 'cmd+option+i')로 이루어져 있습니다.<br>
 두 글 모두 내가 즐기는 남의 것에 비하면 괴로우리만큼 형편 없습니다.<br>
 그리고 기대합니다. 나는 살아 있습니다. 계속 변하고 자랍니다.<br><br>
                            
  <em>우리는 우리의 언어나 우리가 생각하고 있는 올바름이나 좋은 것, 아름다운 것이 제발 누구에게 가닿기를 기원한다.<br> 
  우리가 할 수 있는 일은, 병 속에 종잇조각을 넣고 마개를 막아 바다로 흘려보내는 것뿐이다.<br>
  그것이 어디의 누구에게 닿을지, 아니면 누구에게도 닿지 않을지는 스스로 어떻게 해 볼 도리가 없는 일이다.<br>
  그것밖에는, 할 수 있는 일이 없다.<br>
  또는 적어도 그것만큼은 할 수 있다.</em><span class="citation" data-tooltip="기시 마사히코, 『단편적인 것의 사회학』, 위즈덤하우스, 2016">*</span> <br><br>
              
  목요일마다 가꿉니다.<br><br>
              
  목요일이면 가꿉니다, 보다는 가꾼다면 그 날은 목요일입니다에 가까운 일이 될 <em>수도</em> 있습니다.<br>
  물水이나 해日나 달月이 필요한 날이 있을 <em>수도</em> 있습니다.<br><br>
              
  나무는 어딘가에 <em>느슨한</em> 간격으로 위치를 갖습니다.<br><br>
              
  혹은 비슷한 주제를 다시 찾을 때 그 나무는 커집니다.<br><br>
              
  가장 최근 심거나 자란 나무는 줄기가 연합니다.<br><br>
              
  이곳은 살아 있습니다.<br>
  계속 변하고 자랍니다.<br><br>
              
  이곳을 던집니다.</p>
  </div>
  
<script>
    const forest = document.getElementById("forest");
    const posts = [
      { title: "2025-07-03-start", tag: "사랑" },
      { title: "2025-07-10-glue", tag: "역설" },
      { title: "2025-07-17-new-summer", tag: "여름" },
      { title: "2025-07-24-and", tag: "사랑" },
      { title: "care-memory", tag: "돌봄" },
      { title: "like-a-movie", tag: "영화" },
      { title: "body-language", tag: "몸" }
    ];
    const tagMap = {};
    posts.forEach(post => {
      if (!tagMap[post.tag]) tagMap[post.tag] = [];
      tagMap[post.tag].push(post.title);
    });

    const tagPositions = {
      사랑: { x: 15, y: 20 },
      여름: { x: 35, y: 50 },
      돌봄: { x: 55, y: 40 },
      영화: { x: 70, y: 25 },
      몸: { x: 40, y: 70 },
      역설: { x: 62, y: 58 },
    };
    const tagColors = {
      사랑: "#7fc97f",
      여름: "#66c2a5",
      돌봄: "#b2df8a",
      영화: "#a6d854",
      몸: "#3288bd",
      역설: "#cde86b",
    };

    function extractDate(title) {
      const match = title.match(/\d{4}-\d{2}-\d{2}/);
      return match ? new Date(match[0]) : null;
    }

    let latestDate = null;
    let latestTitle = null;
    posts.forEach(post => {
      const date = extractDate(post.title);
      if (date && (!latestDate || date > latestDate)) {
        latestDate = date;
        latestTitle = post.title;
      }
    });

    Object.entries(tagMap).forEach(([tag, titles]) => {
      const count = titles.length;
      const pos = tagPositions[tag] || { x: Math.random() * 80 + 10, y: Math.random() * 60 + 20 };
      const div = document.createElement("div");
      div.className = "tree";
      div.style.left = `${pos.x}%`;
      div.style.top = `${pos.y}%`;

      const leafColor = tagColors[tag] || getRandomGreen();
      const leafRadius = 12 + (count - 1) * 4;
      const trunkHeight = 20 + (count - 1) * 8;
      const isLatest = titles.includes(latestTitle);
      const trunkColor = isLatest ? "#b9a074" : "#8b5a2b";

      div.innerHTML = `
        <svg viewBox="0 0 64 100">
          <rect x="28" y="${100 - trunkHeight}" width="8" height="${trunkHeight}" fill="${trunkColor}" />
          <circle cx="32" cy="${100 - trunkHeight - leafRadius}" r="${leafRadius}" fill="${leafColor}" />
        </svg>
      `;
      div.onclick = () => {
        if (titles.length === 1) {
          window.location.href = `posts/${encodeURIComponent(titles[0])}.html`;
        } else {
          const overlay = document.createElement("div");
          overlay.className = "overlay";
          const popup = document.createElement("div");
          popup.className = "popup";
          popup.innerHTML = `<h3>${tag}</h3><p>${titles.map(title => `• <a href="posts/${encodeURIComponent(title)}.html">${title}</a>`).join("<br>")}</p>`;
          overlay.onclick = () => {
            document.body.removeChild(popup);
            document.body.removeChild(overlay);
          };
          document.body.appendChild(overlay);
          document.body.appendChild(popup);
        }
      };
      forest.appendChild(div);
    });

    // 걷는 사람 형태 아이콘 2개
    const personSVG = `<svg viewBox="0 0 64 100">
      <circle cx="32" cy="16" r="10" fill="#f4c20d"/>
      <rect x="28" y="26" width="8" height="32" fill="#f4c20d"/>
      <line x1="28" y1="58" x2="20" y2="80" stroke="#f4c20d" stroke-width="6"/>
      <line x1="36" y1="58" x2="44" y2="80" stroke="#f4c20d" stroke-width="6"/>
    </svg>`;


    function submitEmail() {
    const name = document.getElementById("nameInput").value.trim();
    const email = document.getElementById("emailInput").value.trim();
      if (email) {
        fetch("https://script.google.com/macros/s/AKfycbxZRfpwha3ljvKzP_rZp7RQHy0OuKB4K3plTp_c44TWZ_H0LUzjsFLDOmc4YlRchOx2/exec", {
          method: "POST",
          mode: "no-cors",
          headers: { "Content-Type": "application/x-www-form-urlencoded" },
          body: `name=${encodeURIComponent(name)}&email=${encodeURIComponent(email)}`
        });
        alert(`${name}, 반가워요!`);
        document.querySelectorAll(".overlay, .email-popup").forEach(el => el.remove());
      }
    }
  
function toggleIntro() {
  const panel = document.getElementById("intro-panel");
  if (panel.classList.contains("open")) {
    panel.style.maxHeight = 0;
    panel.classList.remove("open");
  } else {
    panel.classList.add("open");
    panel.style.maxHeight = panel.scrollHeight + "px";
  }
}

  
  function moveSubscriberFree(subscriber) {
  let angle = Math.random() * 2 * Math.PI; // 초기 랜덤 각도
  let speed = 0.03; // 속도 (작을수록 느림)

  function animate() {
    let left = parseFloat(subscriber.style.left);
    let top = parseFloat(subscriber.style.top);

    // 각도에 맞춰 이동
    left += Math.cos(angle) * speed;
    top += Math.sin(angle) * speed;

    // 경계에 닿으면 방향 튼다
    if (left < 5 || left > 85) {
      angle = Math.PI - angle; // X 반전
    }
    if (top < 5 || top > 85) {
      angle = -angle; // Y 반전
    }

    // 이동 방향을 천천히 랜덤하게 변화 (휘청거림)
    angle += (Math.random() - 0.5) * 0.05;

    // 위치 적용
    subscriber.style.left = `${left}%`;
    subscriber.style.top = `${top}%`;

    requestAnimationFrame(animate);
  }

  animate();
}

// 걷는 사람 아이콘 생성 + 애니메이션 적용
for (let i = 0; i < 2; i++) {
  const person = document.createElement("div");
  person.className = "subscriber";
  person.style.left = `${Math.random() * 80 + 10}%`;
  person.style.top = `${Math.random() * 60 + 20}%`;
  person.style.width = "48px";
  person.style.height = "48px";
  person.innerHTML = personSVG;

  person.onclick = () => {
    const overlay = document.createElement("div");
    overlay.className = "overlay";
    const popup = document.createElement("div");
    popup.className = "email-popup";
    popup.innerHTML = `
    
      <h3>숲 소식 들고 찾아갈게요</h3>
    <input type="email" id="emailInput" class="input-field" placeholder="어디로 가면 될까요 .. 이를테면 메일">
    <input type="text" id="nameInput" class="input-field" placeholder="어떻게 불리길 원하나요 .. 이를테면 이름">
    <button onclick="submitEmail()">구독하기</button>
    `;
    overlay.onclick = () => {
      document.body.removeChild(popup);
      document.body.removeChild(overlay);
    };
    document.body.appendChild(overlay);
    document.body.appendChild(popup);
  };

  forest.appendChild(person);

  // 천천히 + 자유롭게 움직이는 애니메이션 시작
  moveSubscriberFree(person);
}

    // 모바일용 터치 toggle
  document.addEventListener("DOMContentLoaded", function () {
    document.querySelectorAll(".citation").forEach(function (el) {
      el.addEventListener("click", function (e) {
        // 데스크탑에서는 무시
        if (window.innerWidth > 768) return;

        // toggle
        e.stopPropagation(); // 다른 클릭 막기
        el.classList.toggle("active");
      });
    });

    // 바깥 클릭 시 닫기
    document.addEventListener("click", function () {
      document.querySelectorAll(".citation.active").forEach(function (el) {
        el.classList.remove("active");
      });
    });
  });

</script>
</body>
</html>
